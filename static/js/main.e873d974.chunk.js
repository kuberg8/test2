(this["webpackJsonpmy-app-1"]=this["webpackJsonpmy-app-1"]||[]).push([[0],{125:function(e,t,a){e.exports={avatar:"avatar_avatar__24YjA"}},127:function(e,t,a){e.exports={NotFound:"NotFound_NotFound__1mJdw"}},154:function(e,t,a){e.exports=a(280)},159:function(e,t,a){},160:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(57),o=a.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(159),a(160);var c=a(7),u=a(47),i=a(16),s={terminalsData:[{name:"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b",info:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{name:"\u041f\u0440\u0438\u043c\u0435\u0440",info:"\u041f\u0440\u0438\u043c\u0435\u0440"}]};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return"ADD-TERMINALS"===t.type?Object(i.a)(Object(i.a)({},e),{},{terminalsData:[].concat(Object(u.a)(e.terminalsData),[t.newterminal])}):"DELETE-TERMINALS"===t.type?Object(i.a)(Object(i.a)({},e),{},{terminalsData:[{name:"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b",info:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}]}):e},v={buyersData:[{id:1,name:"\u0412\u0438\u043a\u0442\u043e\u0440\u0438\u044f","average\u0421heck":166,shoppingCount:12,totalRevenues:2e3},{id:2,name:"\u041e\u043b\u0435\u0433","average\u0421heck":250,shoppingCount:2,totalRevenues:500},{id:3,name:"\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432","average\u0421heck":400,shoppingCount:4,totalRevenues:1200},{id:4,name:"\u0418\u0440\u0438\u043d\u0430","average\u0421heck":300,shoppingCount:1,totalRevenues:300},{id:5,name:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439","average\u0421heck":214,shoppingCount:7,totalRevenues:1500},{id:6,name:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","average\u0421heck":333,shoppingCount:3,totalRevenues:1e3},{id:7,name:"\u0422\u043e\u043c","average\u0421heck":225,shoppingCount:4,totalRevenues:990},{id:8,name:"\u041b\u0435\u043e\u043d\u0438\u0434","average\u0421heck":325,shoppingCount:2,totalRevenues:650},{id:9,name:"\u0411\u043e\u0431","average\u0421heck":1800,shoppingCount:1,totalRevenues:1800},{id:10,name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439","average\u0421heck":375,shoppingCount:8,totalRevenues:3e3},{id:11,name:"\u0410\u043d\u043d\u0430","average\u0421heck":300,shoppingCount:9,totalRevenues:2700},{id:12,name:"\u0422\u0430\u0442\u044c\u044f\u043d\u0430","average\u0421heck":480,shoppingCount:5,totalRevenues:2400},{id:13,name:"\u041e\u043b\u0435\u0433","average\u0421heck":454,shoppingCount:11,totalRevenues:5e3},{id:14,name:"\u041e\u043b\u044c\u0433\u0430","average\u0421heck":1300,shoppingCount:1,totalRevenues:1300},{id:15,name:"\u0412\u0438\u043a\u0442\u043e\u0440","average\u0421heck":289,shoppingCount:10,totalRevenues:2890}],sortName:"id"};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;function a(t){var a=Object(u.a)(e.buyersData);return a=a.sort((function(e,a){return e[t]>a[t]?1:-1})),Object(i.a)(Object(i.a)({},e),{},{buyersData:Object(u.a)(a),sortName:t})}return"SORT-BUYERS"===t.type?a(t.sort):e},p=a(79),f=a.n(p),d=a(120),h=a(121).create({baseURL:"https://avatars.githubusercontent.com/",responseType:"json"}),g=function(e){return h.get(e)},b=a(39),_={isAuth:!1,userAvatar:null};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return"SET_USER"===t.type?Object(i.a)(Object(i.a)({},e),t.data):e},N=a(122),y=a(119),j=Object(c.c)({terminals:m,buyers:E,auth:O,form:y.a}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,k=Object(c.e)(j,R(Object(c.a)(N.a)));window.store=k;var C=k,D=a(8),S=a(24),w=a(13),A=a(60),x=a.n(A),T=a(125),L=a.n(T);var M=function(e){return r.a.createElement("div",{className:L.a.avatar},r.a.createElement("img",{src:e.avatar}))},B=Object(D.b)((function(e){return{avatar:e.auth.userAvatar}}),(function(e){return{}}))(M),I=a(35),U=a.n(I);var P=function(){return r.a.createElement("div",{className:U.a.links},r.a.createElement(w.b,{to:"terminals",activeClassName:U.a.active},r.a.createElement("div",{className:U.a.item},"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u044b")),r.a.createElement(w.b,{to:"buyers",activeClassName:U.a.active},r.a.createElement("div",{className:U.a.item},"\u041a\u043b\u0438\u0435\u043d\u0442\u044b")))};var J=function(e){return r.a.createElement("header",{className:x.a.header},r.a.createElement("div",{className:x.a.container},r.a.createElement("span",{className:x.a.logo},"TEST"),r.a.createElement(P,null),r.a.createElement(B,null)))},F=Object(D.b)((function(e){return{}}),(function(e){return{}}))(J),Y=a(61),K=a.n(Y),W=a(117),X=a(118),q=a(82);function z(e){return e?void 0:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}var G=a(128),Z=a(83),Q=a.n(Z);function V(e){var t=e.input,a=e.meta,n=Object(G.a)(e,["input","meta"]),l=a.touched&&a.error;return r.a.createElement("div",{className:Q.a.form+" "+(l?Q.a.error:"")},l?r.a.createElement("span",null,a.error):r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,n))))}var $,H=($=8,function(e){if(e.length<$)return"Min symbols - ".concat($);if(e===e.toLowerCase())return"\u041b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c";var t,a=["1","2","3","4","5","6","7","8","9","0"],n=Object(q.a)(e);try{for(n.s();!(t=n.n()).done;){var r,l=t.value,o=Object(q.a)(a);try{for(o.s();!(r=o.n()).done;)if(l===r.value)return}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}return"\u041b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"});var ee=Object(X.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(W.a,{placeholder:"Login",name:"login",component:V,validate:z})),r.a.createElement("div",null,r.a.createElement(W.a,{type:"password",placeholder:"Password",name:"password",component:V,validate:[z,H]})),e.error?r.a.createElement("div",{className:K.a.error},e.error):r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))}));var te=function(e){return e.isAuth?r.a.createElement(S.a,{to:"/terminals"}):r.a.createElement("div",{className:K.a.login},r.a.createElement("div",{className:K.a.reg},r.a.createElement("h2",null,"Login"),r.a.createElement(ee,{onSubmit:function(t){e.login(t.login)}})))},ae=Object(D.b)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{login:function(t){e(function(e){return function(){var t=Object(d.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:"5065"===(n=t.sent).headers["content-length"]?a(Object(b.a)("login",{_error:"User is not found"})):a({type:"SET_USER",data:{userAvatar:n.request.responseURL,isAuth:!0}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(te),ne=a(36),re=a.n(ne);var le=Object(X.a)({form:"terminal"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:re.a.inputs},r.a.createElement("span",{className:re.a.inputs_item},r.a.createElement(W.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430",name:"terminal",component:"input",autocomplete:"off"}),r.a.createElement(W.a,{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"info",component:"input",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("button",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}));var oe=function(e){if(!1===e.isAuth)return r.a.createElement(S.a,{to:"/login"});var t=e.terminalsData.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.info))}));return r.a.createElement("div",{className:re.a.content},r.a.createElement(le,{onSubmit:function(t){console.log(),t.terminal&&t.info&&(e.addTerminal(t.terminal,t.info),t.terminal=null,t.info=null)}}),r.a.createElement("table",{className:re.a.table,align:"center",cols:"2"},t),r.a.createElement("button",{onClick:e.deleteTerminal,className:re.a.button},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))},ce=Object(D.b)((function(e){return{isAuth:e.auth.isAuth,terminalsData:e.terminals.terminalsData}}),(function(e){return{addTerminal:function(t,a){e(function(e,t){return{type:"ADD-TERMINALS",newterminal:{name:e,info:t}}}(t,a))},deleteTerminal:function(){e({type:"DELETE-TERMINALS"})}}}))(oe),ue=a(34),ie=a(48),se=a.n(ie),me=a(86),ve=a.n(me);var Ee=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=Math.ceil(e.buyersData.length/5),l=[],o=1;o<=a;o++)l.push(o);Math.ceil(a/t);var c=Object(n.useState)(1),u=Object(ue.a)(c,2);return u[0],u[1],r.a.createElement("div",{className:ve.a.pagination},l.map((function(t){return r.a.createElement("span",{onClick:function(){e.changePage(t)},className:ve.a.pagination_item},t)})))};var pe=function(e){var t=Object(n.useState)("\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0432\u0441\u0435\u0445"),a=Object(ue.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(e.sortName),u=Object(ue.a)(c,2),i=(u[0],u[1]),s=Object(n.useState)(e.buyersData),m=Object(ue.a)(s,2),v=m[0],E=m[1];Object(n.useEffect)((function(){i(e.sortName)}),[e.sortName]),Object(n.useEffect)((function(){E(e.buyersData)}),[e.buyersData]);var p=+e.match.params.userId;if(!1===e.isAuth)return r.a.createElement(S.a,{to:"/login"});if(e.buyersData.some((function(e){return e.id===p}))){var f=e.buyersData.find((function(e){return e.id===p}));return r.a.createElement("div",{className:se.a.user},r.a.createElement("table",{cols:"2",align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,f.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,f.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"),r.a.createElement("td",null,f.average\u0421heck)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"),r.a.createElement("td",null,f.shoppingCount)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430"),r.a.createElement("td",null,f.totalRevenues))))}var d=e.buyersData,h=v.filter((function(e,t){return t<10})),g=v.filter((function(e,t){return t>-1&&t<5})),b=r.a.createRef(),_=r.a.createRef();return r.a.createElement("div",{className:se.a.content},r.a.createElement("span",{className:se.a.select},r.a.createElement("select",{value:e.sortName,onChange:function(){E(d),i(b.current.value),e.sortBuyers(b.current.value)},ref:b},r.a.createElement("option",{value:"id"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("option",{value:"average\u0421heck"},"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"),r.a.createElement("option",{value:"shoppingCount"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u041f\u043e\u043a\u0443\u043f\u043e\u043a"),r.a.createElement("option",{value:"totalRevenues"},"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430"),r.a.createElement("option",{value:"name"},"\u041f\u043e \u0438\u043c\u0435\u043d\u0438")),r.a.createElement("select",{value:l,onChange:function(){E(d),o(+_.current.value)},ref:_},r.a.createElement("option",{value:"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0432\u0441\u0435\u0445"},"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0432\u0441\u0435\u0445"),r.a.createElement("option",{value:"5"},"\u043f\u043e 5"),r.a.createElement("option",{value:"10"},"top-10"))),r.a.createElement("table",{className:se.a.table,align:"center",cols:"5"},r.a.createElement("tr",null,r.a.createElement("th",null,"ID \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("th",null,"\u0418\u043c\u044f \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("th",null,"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"),r.a.createElement("th",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"),r.a.createElement("th",null,"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430")),(10===l?h:5===l?g:v).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(w.b,{to:"/buyers"+e.id},e.id)),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.average\u0421heck),r.a.createElement("td",null,e.shoppingCount),r.a.createElement("td",null,e.totalRevenues))}))),5===l?r.a.createElement(Ee,Object.assign({},e,{changePage:function(e){1===e?E(d.filter((function(e,t){return t>-1&&t<5}))):2===e?E(d.filter((function(e,t){return t>4&&t<10}))):3===e&&E(d.filter((function(e,t){return t>9&&t<15})))}})):null)},fe=Object(c.d)(Object(D.b)((function(e){return{isAuth:e.auth.isAuth,buyersData:e.buyers.buyersData,sortName:e.buyers.sortName}}),(function(e){return{sortBuyers:function(t){e(function(e){return{type:"SORT-BUYERS",sort:e}}(t))}}})),S.g)(pe),de=a(127),he=a.n(de);var ge=function(){return r.a.createElement("div",{className:he.a.NotFound},"Ops.. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 :/")};var be=function(){return r.a.createElement(D.a,{store:C},r.a.createElement(w.a,{basename:"/test2"},r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement("span",{className:"content"},r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/terminals",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(S.b,{exact:!0,path:"/buyers:userId?",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(S.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(S.b,{exact:!0,path:"/",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(S.b,{exact:!0,path:"*",render:function(){return r.a.createElement(ge,null)}}))),r.a.createElement("footer",null,"Copyright \xa9 2020"))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={links:"links_links__113G9",item:"links_item__bRLB5",active:"links_active__PgN06"}},36:function(e,t,a){e.exports={content:"terminals_content__2m1mJ",table:"terminals_table__2RqCs",inputs:"terminals_inputs__1m596",inputs_item:"terminals_inputs_item__3pZLb",button:"terminals_button__5mgzx"}},48:function(e,t,a){e.exports={content:"Buyers_content__2nNYO",table:"Buyers_table__3XeMW",select:"Buyers_select__7w7ot",user:"Buyers_user__1cGta"}},60:function(e,t,a){e.exports={header:"header_header__3d1ex",container:"header_container__1zMKn",logo:"header_logo__2JOgs"}},61:function(e,t,a){e.exports={login:"login_login__158hP",reg:"login_reg__2kmgo",error:"login_error__3RdnK"}},83:function(e,t,a){e.exports={form:"formsControls_form__2gL0R",error:"formsControls_error__1mQ7k"}},86:function(e,t,a){e.exports={pagination:"paginator_pagination__2ZCCM",pagination_item:"paginator_pagination_item__38wKr",active:"paginator_active__3NwIn"}}},[[154,1,2]]]);
//# sourceMappingURL=main.e873d974.chunk.js.map
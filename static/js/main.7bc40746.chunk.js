(this["webpackJsonpmy-app-1"]=this["webpackJsonpmy-app-1"]||[]).push([[0],{125:function(e,t,a){e.exports={avatar:"avatar_avatar__zmmeI"}},127:function(e,t,a){e.exports={user:"user_user__3Rzft"}},128:function(e,t,a){e.exports={NotFound:"NotFound_NotFound__8IcEB"}},155:function(e,t,a){e.exports=a(281)},160:function(e,t,a){},161:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(58),o=a.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(160),a(161);var c=a(7),u=a(46),i=a(16),s={terminalsData:[{name:"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b",info:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{name:"\u041f\u0440\u0438\u043c\u0435\u0440",info:"\u041f\u0440\u0438\u043c\u0435\u0440"}]};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return"ADD-TERMINALS"===t.type?Object(i.a)(Object(i.a)({},e),{},{terminalsData:[].concat(Object(u.a)(e.terminalsData),[t.newterminal])}):"DELETE-TERMINALS"===t.type?Object(i.a)(Object(i.a)({},e),{},{terminalsData:[{name:"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b",info:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}]}):e},v={buyersData:[{id:1,name:"\u0412\u0438\u043a\u0442\u043e\u0440\u0438\u044f","average\u0421heck":166,shoppingCount:12,totalRevenues:2e3},{id:2,name:"\u041e\u043b\u0435\u0433","average\u0421heck":250,shoppingCount:2,totalRevenues:500},{id:3,name:"\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432","average\u0421heck":400,shoppingCount:4,totalRevenues:1200},{id:4,name:"\u0418\u0440\u0438\u043d\u0430","average\u0421heck":300,shoppingCount:1,totalRevenues:300},{id:5,name:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439","average\u0421heck":214,shoppingCount:7,totalRevenues:1500},{id:6,name:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","average\u0421heck":333,shoppingCount:3,totalRevenues:1e3},{id:7,name:"\u0422\u043e\u043c","average\u0421heck":225,shoppingCount:4,totalRevenues:990},{id:8,name:"\u041b\u0435\u043e\u043d\u0438\u0434","average\u0421heck":325,shoppingCount:2,totalRevenues:650},{id:9,name:"\u0411\u043e\u0431","average\u0421heck":1800,shoppingCount:1,totalRevenues:1800},{id:10,name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439","average\u0421heck":375,shoppingCount:8,totalRevenues:3e3},{id:11,name:"\u0410\u043d\u043d\u0430","average\u0421heck":300,shoppingCount:9,totalRevenues:2700},{id:12,name:"\u0422\u0430\u0442\u044c\u044f\u043d\u0430","average\u0421heck":480,shoppingCount:5,totalRevenues:2400},{id:13,name:"\u041e\u043b\u0435\u0433","average\u0421heck":454,shoppingCount:11,totalRevenues:5e3},{id:14,name:"\u041e\u043b\u044c\u0433\u0430","average\u0421heck":1300,shoppingCount:1,totalRevenues:1300},{id:15,name:"\u0412\u0438\u043a\u0442\u043e\u0440","average\u0421heck":289,shoppingCount:10,totalRevenues:2890}]};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;function a(t){var a=Object(u.a)(e.buyersData);return a=a.sort((function(e,a){return e[t]>a[t]?1:-1})),Object(i.a)(Object(i.a)({},e),{},{buyersData:Object(u.a)(a)})}return"SORT-BUYERS"===t.type?a(t.sort):e},E=a(81),p=a.n(E),d=a(120),h=a(121).create({baseURL:"https://avatars.githubusercontent.com/",responseType:"json"}),b=function(e){return h.get(e)},g=a(38),_={isAuth:!1,userAvatar:null};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return"SET_USER"===t.type?Object(i.a)(Object(i.a)({},e),t.data):e},O=a(122),j=a(119),N=Object(c.c)({terminals:m,buyers:f,auth:y,form:j.a}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,C=Object(c.e)(N,R(Object(c.a)(O.a)));window.store=C;var D=C,k=a(8),S=a(24),A=a(10),T=a(61),w=a.n(T),x=a(125),I=a.n(x);var L=function(e){return r.a.createElement("div",{className:I.a.avatar},r.a.createElement("img",{src:e.avatar}))},B=Object(k.b)((function(e){return{avatar:e.auth.userAvatar}}),(function(e){return{}}))(L),M=a(34),P=a.n(M);var U=function(){return r.a.createElement("div",{className:P.a.links},r.a.createElement(A.b,{to:"terminals",activeClassName:P.a.active},r.a.createElement("div",{className:P.a.item},"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u044b")),r.a.createElement(A.b,{to:"buyers",activeClassName:P.a.active},r.a.createElement("div",{className:P.a.item},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438")))};var F=function(e){return r.a.createElement("header",{className:w.a.header},r.a.createElement("div",{className:w.a.container},r.a.createElement("span",{className:w.a.logo},"TEST"),r.a.createElement(U,null),r.a.createElement(B,null)))},q=Object(k.b)((function(e){return{}}),(function(e){return{}}))(F),W=a(62),X=a.n(W),z=a(117),J=a(118),G=a(47);function Q(e){return e?void 0:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}function V(e){if(e===e.toLowerCase())return"\u041b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c";var t,a=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],n=Object(G.a)(e);try{for(n.s();!(t=n.n()).done;){var r,l=t.value,o=Object(G.a)(a);try{for(o.s();!(r=o.n()).done;){if(l===r.value)return}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}return"\u041b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}function Y(e){var t,a=["1","2","3","4","5","6","7","8","9","0"],n=Object(G.a)(e);try{for(n.s();!(t=n.n()).done;){var r,l=t.value,o=Object(G.a)(a);try{for(o.s();!(r=o.n()).done;){if(l===r.value)return}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}return"\u041b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}var Z=a(129),H=a(84),K=a.n(H);function $(e){var t=e.input,a=e.meta,n=Object(Z.a)(e,["input","meta"]),l=a.touched&&a.error;return r.a.createElement("div",{className:K.a.form+" "+(l?K.a.error:"")},l?r.a.createElement("span",null,a.error):r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,n))))}var ee,te=(ee=8,function(e){return e.length<ee?"Min symbols - ".concat(ee):void 0});var ae=Object(J.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(z.a,{placeholder:"Login",name:"login",component:$,validate:Q})),r.a.createElement("div",null,r.a.createElement(z.a,{type:"password",placeholder:"Password",name:"password",component:$,validate:[Q,te,V,Y]})),e.error?r.a.createElement("div",{className:X.a.error},e.error):r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))}));var ne=function(e){return e.isAuth?r.a.createElement(S.a,{to:"/terminals"}):r.a.createElement("div",{className:X.a.login},r.a.createElement("div",{className:X.a.reg},r.a.createElement("h2",null,"Login"),r.a.createElement(ae,{onSubmit:function(t){e.login(t.login)}})))},re=Object(k.b)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{login:function(t){e(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:"5065"===(n=t.sent).headers["content-length"]?a(Object(g.a)("login",{_error:"User is not found"})):a({type:"SET_USER",data:{userAvatar:n.request.responseURL,isAuth:!0}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(ne),le=a(35),oe=a.n(le);var ce=Object(J.a)({form:"terminal"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:oe.a.inputs},r.a.createElement("span",{className:oe.a.inputs_item},r.a.createElement(z.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430",name:"terminal",component:"input",autocomplete:"off"}),r.a.createElement(z.a,{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"info",component:"input",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("button",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}));var ue=function(e){if(!1===e.isAuth)return r.a.createElement(S.a,{to:"/login"});var t=e.terminalsData.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.info))}));return r.a.createElement("div",{className:oe.a.content},r.a.createElement(ce,{onSubmit:function(t){console.log(),t.terminal&&t.info&&(e.addTerminal(t.terminal,t.info),t.terminal=null,t.info=null)}}),r.a.createElement("table",{className:oe.a.table,align:"center",cols:"2"},t),r.a.createElement("button",{onClick:e.deleteTerminal,className:oe.a.button},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))},ie=Object(k.b)((function(e){return{isAuth:e.auth.isAuth,terminalsData:e.terminals.terminalsData}}),(function(e){return{addTerminal:function(t,a){e(function(e,t){return{type:"ADD-TERMINALS",newterminal:{name:e,info:t}}}(t,a))},deleteTerminal:function(){e({type:"DELETE-TERMINALS"})}}}))(ue),se=a(49),me=a(64),ve=a.n(me),fe=a(48),Ee=a.n(fe);var pe=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var t=Math.ceil(e.buyersData.length/5),a=[],n=1;n<=t;n++)a.push(n);return r.a.createElement("div",{className:Ee.a.pagination},a.map((function(t){return r.a.createElement("span",{onClick:function(){e.changePage(t),e.setPortionNumber(t)},className:e.portionNumber===t?Ee.a.pagination_item+" "+Ee.a.active:Ee.a.pagination_item},t)})))};var de=function(e){var t=Object(n.useState)("\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0432\u0441\u0435\u0445"),a=Object(se.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)("id"),u=Object(se.a)(c,2),i=u[0],s=u[1],m=Object(n.useState)(e.buyersData),v=Object(se.a)(m,2),f=v[0],E=v[1],p=Object(n.useState)(1),d=Object(se.a)(p,2),h=d[0],b=d[1];if(Object(n.useEffect)((function(){E(e.buyersData)}),[e.buyersData]),!1===e.isAuth)return r.a.createElement(S.a,{to:"/login"});var g=e.buyersData,_=f.filter((function(e,t){return t<10})),y=f.filter((function(e,t){return t>-1&&t<5})),O=r.a.createRef(),j=r.a.createRef();return r.a.createElement("div",{className:ve.a.content},r.a.createElement("span",{className:ve.a.select},r.a.createElement("select",{value:i,onChange:function(){b(1),s(O.current.value),e.sortBuyers(O.current.value)},ref:O},r.a.createElement("option",{value:"id"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("option",{value:"average\u0421heck"},"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"),r.a.createElement("option",{value:"shoppingCount"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u041f\u043e\u043a\u0443\u043f\u043e\u043a"),r.a.createElement("option",{value:"totalRevenues"},"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430"),r.a.createElement("option",{value:"name"},"\u041f\u043e \u0438\u043c\u0435\u043d\u0438")),r.a.createElement("select",{value:l,onChange:function(){E(g),b(1),o(+j.current.value)},ref:j},r.a.createElement("option",{value:"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0432\u0441\u0435\u0445"},"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0432\u0441\u0435\u0445"),r.a.createElement("option",{value:"5"},"\u043f\u043e 5"),r.a.createElement("option",{value:"10"},"top-10"))),r.a.createElement("table",{className:ve.a.table,align:"center",cols:"5"},r.a.createElement("tr",null,r.a.createElement("th",null,"ID \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("th",null,"\u0418\u043c\u044f \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("th",null,"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"),r.a.createElement("th",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"),r.a.createElement("th",null,"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430")),(10===l?_:5===l?y:f).map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(A.b,{to:"/buyers/"+e.id},e.id)),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.average\u0421heck),r.a.createElement("td",null,e.shoppingCount),r.a.createElement("td",null,e.totalRevenues))}))),5===l?r.a.createElement(pe,Object.assign({},e,{changePage:function(e){E(1===e?g.filter((function(e,t){return t>=0&&t<5})):g.filter((function(t,a){return a>=0+5*(e-1)&&a<5+5*(e-1)})))},portionNumber:h,setPortionNumber:b})):null)},he=Object(k.b)((function(e){return{isAuth:e.auth.isAuth,buyersData:e.buyers.buyersData}}),(function(e){return{sortBuyers:function(t){e(function(e){return{type:"SORT-BUYERS",sort:e}}(t))}}}))(de),be=a(127),ge=a.n(be),_e=a(128),ye=a.n(_e);var Oe=function(){return r.a.createElement("div",{className:ye.a.NotFound},"Ops.. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 :/")};var je=function(e){var t=+e.match.params.userId;if(!1===e.isAuth)return r.a.createElement(S.a,{to:"/login"});if(e.buyersData.some((function(e){return e.id===t}))){var a=e.buyersData.find((function(e){return e.id===t}));return r.a.createElement("div",{className:ge.a.user},r.a.createElement("table",{cols:"2",align:"center"},r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,a.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,a.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"),r.a.createElement("td",null,a.average\u0421heck)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"),r.a.createElement("td",null,a.shoppingCount)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430"),r.a.createElement("td",null,a.totalRevenues))))}return r.a.createElement(Oe,null)},Ne=Object(c.d)(Object(k.b)((function(e){return{isAuth:e.auth.isAuth,buyersData:e.buyers.buyersData}})),S.g)(je);var Re=function(){return r.a.createElement(k.a,{store:D},r.a.createElement(A.a,{basename:"/test2"},r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement("span",{className:"content"},r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/terminals",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(S.b,{exact:!0,path:"/buyers",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(S.b,{exact:!0,path:"/buyers/:userId?",render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(S.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(S.b,{exact:!0,path:"/",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(S.b,{exact:!0,path:"*",render:function(){return r.a.createElement(Oe,null)}}))),r.a.createElement("footer",null,"Copyright \xa9 2020"))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){e.exports={links:"links_links__1pjA8",item:"links_item__2Sioj",active:"links_active__1CMU-"}},35:function(e,t,a){e.exports={content:"terminals_content__GNRXq",table:"terminals_table__2Rncv",inputs:"terminals_inputs__sgeW0",inputs_item:"terminals_inputs_item__30z9V",button:"terminals_button__2p8w_"}},48:function(e,t,a){e.exports={pagination:"paginator_pagination__25IN7",pagination_item:"paginator_pagination_item__q3fmm",active:"paginator_active__26FXq"}},61:function(e,t,a){e.exports={header:"header_header__1-CPT",container:"header_container__1MzsP",logo:"header_logo__1J1c3"}},62:function(e,t,a){e.exports={login:"login_login__3LbQ6",reg:"login_reg__d0uxr",error:"login_error__1--Lq"}},64:function(e,t,a){e.exports={content:"Buyers_content__12MIx",table:"Buyers_table__1lyPA",select:"Buyers_select__T9IPZ",user:"Buyers_user__13QCt"}},84:function(e,t,a){e.exports={form:"formsControls_form__1FvDf",error:"formsControls_error__FfGWU"}}},[[155,1,2]]]);
//# sourceMappingURL=main.7bc40746.chunk.js.map